// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0

package db

import (
	"database/sql/driver"
	"fmt"

	"github.com/google/uuid"
	"github.com/jackc/pgx/v5/pgtype"
)

type SubmissionStatus string

const (
	SubmissionStatusPending       SubmissionStatus = "pending"
	SubmissionStatusReviewed      SubmissionStatus = "reviewed"
	SubmissionStatusApproved      SubmissionStatus = "approved"
	SubmissionStatusNeedsRevision SubmissionStatus = "needs_revision"
)

func (e *SubmissionStatus) Scan(src interface{}) error {
	switch s := src.(type) {
	case []byte:
		*e = SubmissionStatus(s)
	case string:
		*e = SubmissionStatus(s)
	default:
		return fmt.Errorf("unsupported scan type for SubmissionStatus: %T", src)
	}
	return nil
}

type NullSubmissionStatus struct {
	SubmissionStatus SubmissionStatus `json:"submission_status"`
	Valid            bool             `json:"valid"` // Valid is true if SubmissionStatus is not NULL
}

// Scan implements the Scanner interface.
func (ns *NullSubmissionStatus) Scan(value interface{}) error {
	if value == nil {
		ns.SubmissionStatus, ns.Valid = "", false
		return nil
	}
	ns.Valid = true
	return ns.SubmissionStatus.Scan(value)
}

// Value implements the driver Valuer interface.
func (ns NullSubmissionStatus) Value() (driver.Value, error) {
	if !ns.Valid {
		return nil, nil
	}
	return string(ns.SubmissionStatus), nil
}

func (e SubmissionStatus) Valid() bool {
	switch e {
	case SubmissionStatusPending,
		SubmissionStatusReviewed,
		SubmissionStatusApproved,
		SubmissionStatusNeedsRevision:
		return true
	}
	return false
}

func AllSubmissionStatusValues() []SubmissionStatus {
	return []SubmissionStatus{
		SubmissionStatusPending,
		SubmissionStatusReviewed,
		SubmissionStatusApproved,
		SubmissionStatusNeedsRevision,
	}
}

type SubscriptionStatus string

const (
	SubscriptionStatusFree      SubscriptionStatus = "free"
	SubscriptionStatusActive    SubscriptionStatus = "active"
	SubscriptionStatusCancelled SubscriptionStatus = "cancelled"
	SubscriptionStatusPastDue   SubscriptionStatus = "past_due"
)

func (e *SubscriptionStatus) Scan(src interface{}) error {
	switch s := src.(type) {
	case []byte:
		*e = SubscriptionStatus(s)
	case string:
		*e = SubscriptionStatus(s)
	default:
		return fmt.Errorf("unsupported scan type for SubscriptionStatus: %T", src)
	}
	return nil
}

type NullSubscriptionStatus struct {
	SubscriptionStatus SubscriptionStatus `json:"subscription_status"`
	Valid              bool               `json:"valid"` // Valid is true if SubscriptionStatus is not NULL
}

// Scan implements the Scanner interface.
func (ns *NullSubscriptionStatus) Scan(value interface{}) error {
	if value == nil {
		ns.SubscriptionStatus, ns.Valid = "", false
		return nil
	}
	ns.Valid = true
	return ns.SubscriptionStatus.Scan(value)
}

// Value implements the driver Valuer interface.
func (ns NullSubscriptionStatus) Value() (driver.Value, error) {
	if !ns.Valid {
		return nil, nil
	}
	return string(ns.SubscriptionStatus), nil
}

func (e SubscriptionStatus) Valid() bool {
	switch e {
	case SubscriptionStatusFree,
		SubscriptionStatusActive,
		SubscriptionStatusCancelled,
		SubscriptionStatusPastDue:
		return true
	}
	return false
}

func AllSubscriptionStatusValues() []SubscriptionStatus {
	return []SubscriptionStatus{
		SubscriptionStatusFree,
		SubscriptionStatusActive,
		SubscriptionStatusCancelled,
		SubscriptionStatusPastDue,
	}
}

type Assignment struct {
	ID             uuid.UUID          `json:"id"`
	ModuleID       uuid.UUID          `json:"module_id"`
	Title          string             `json:"title"`
	Description    string             `json:"description"`
	Rubric         string             `json:"rubric"`
	EstimatedHours pgtype.Numeric     `json:"estimated_hours"`
	CreatedAt      pgtype.Timestamptz `json:"created_at"`
	UpdatedAt      pgtype.Timestamptz `json:"updated_at"`
}

type Lesson struct {
	ID               uuid.UUID          `json:"id"`
	ModuleID         uuid.UUID          `json:"module_id"`
	Title            string             `json:"title"`
	Slug             string             `json:"slug"`
	Content          string             `json:"content"`
	OrderIndex       int32              `json:"order_index"`
	EstimatedMinutes int32              `json:"estimated_minutes"`
	CreatedAt        pgtype.Timestamptz `json:"created_at"`
	UpdatedAt        pgtype.Timestamptz `json:"updated_at"`
}

type Module struct {
	ID             uuid.UUID          `json:"id"`
	Title          string             `json:"title"`
	Slug           string             `json:"slug"`
	Description    string             `json:"description"`
	OrderIndex     int32              `json:"order_index"`
	EstimatedHours pgtype.Numeric     `json:"estimated_hours"`
	CreatedAt      pgtype.Timestamptz `json:"created_at"`
	UpdatedAt      pgtype.Timestamptz `json:"updated_at"`
}

type Skill struct {
	ID         uuid.UUID          `json:"id"`
	ModuleID   uuid.UUID          `json:"module_id"`
	SkillName  string             `json:"skill_name"`
	OrderIndex int32              `json:"order_index"`
	CreatedAt  pgtype.Timestamptz `json:"created_at"`
}

type Submission struct {
	ID             uuid.UUID          `json:"id"`
	AssignmentID   uuid.UUID          `json:"assignment_id"`
	UserID         uuid.UUID          `json:"user_id"`
	GithubUrl      string             `json:"github_url"`
	WrittenAnswers string             `json:"written_answers"`
	Status         SubmissionStatus   `json:"status"`
	Feedback       *string            `json:"feedback"`
	SubmittedAt    pgtype.Timestamptz `json:"submitted_at"`
	ReviewedAt     pgtype.Timestamptz `json:"reviewed_at"`
}

type User struct {
	ID                   uuid.UUID          `json:"id"`
	Email                string             `json:"email"`
	PasswordHash         string             `json:"password_hash"`
	Name                 string             `json:"name"`
	Role                 string             `json:"role"`
	StripeCustomerID     *string            `json:"stripe_customer_id"`
	StripeSubscriptionID *string            `json:"stripe_subscription_id"`
	SubscriptionStatus   SubscriptionStatus `json:"subscription_status"`
	CreatedAt            pgtype.Timestamptz `json:"created_at"`
	UpdatedAt            pgtype.Timestamptz `json:"updated_at"`
}

type UserLessonProgress struct {
	UserID      uuid.UUID          `json:"user_id"`
	LessonID    uuid.UUID          `json:"lesson_id"`
	CompletedAt pgtype.Timestamptz `json:"completed_at"`
}

type UserSkillProgress struct {
	UserID      uuid.UUID          `json:"user_id"`
	SkillID     uuid.UUID          `json:"skill_id"`
	CompletedAt pgtype.Timestamptz `json:"completed_at"`
}
